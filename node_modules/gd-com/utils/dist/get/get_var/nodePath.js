"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getVarNodePath = void 0;
var string_1 = require("./string");
/**
 * Decode Node Path
 * @param genericDecoder
 * @param buf {Buffer}
 * @returns {{value: String, length: Number}}
 */
function getVarNodePath(genericDecoder, buf) {
    var strlen = buf.readUInt32LE(0);
    var nameCount = strlen & 0x7FFFFFFF;
    var subnameCount = buf.readUInt32LE(4);
    var total = nameCount + subnameCount;
    var names = [];
    var subnames = [];
    var len = 12;
    for (var i = 0; i < total; i++) {
        var strValue = (0, string_1.getVarString)(genericDecoder, buf.slice(len));
        len = len + strValue.length;
        if (i < nameCount) {
            names.push(strValue.value);
        }
        else {
            subnames.push(strValue.value);
        }
    }
    return {
        value: names.join('/') + subnames.join('/'),
        length: len
    };
}
exports.getVarNodePath = getVarNodePath;
