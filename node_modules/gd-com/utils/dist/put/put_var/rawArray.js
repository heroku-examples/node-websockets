"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.putVarRawArray = void 0;
var constants_1 = require("../../constants");
var put_u32_1 = require("../put_u32");
function putBuffer(value) {
    var len = value.byteLength;
    var pad = len % 4 === 0 ? 0 : 4 - len % 4;
    var newBuffer = Buffer.allocUnsafe(4 + len + pad);
    newBuffer.writeUInt32LE(len, 0);
    value.copy(newBuffer, 4);
    if (pad !== 0) {
        var pos = 4 + len;
        for (var i = 0; i < pad; i++) {
            newBuffer.write('\0', i + pos);
        }
    }
    return newBuffer;
}
/**
 * Encode PoolByteArray
 * @param value
 * @returns {Buffer}
 */
function subPutVarRawArray(value) {
    var type = (0, put_u32_1.putU32)(constants_1.TYPE.RAW_ARRAY);
    var data = putBuffer(value);
    return Buffer.concat([type, data]);
}
var putVarRawArray = function (prepare, value) { return subPutVarRawArray(value); };
exports.putVarRawArray = putVarRawArray;
